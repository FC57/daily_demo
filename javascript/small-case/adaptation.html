<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta id="view" name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>adaptation</title>
    <script>
      // 立即执行函数缩放 viewPort
      // (function () {
      //   // 获取设备宽度
      //   const curWidth = document.documentElement.clientWidth;
      //   // 计算缩放尺寸
      //   const targetWidth = 375;
      //   const scale = curWidth / targetWidth;
      //   const view = document.querySelector("meta[id='view']");
      //   view.content = `initial-scale=${scale},minimum-scale=${scale},maximum-scale=${scale},user-scalable=no`;
      // })();

      // rem 适配
      (function (doc, win, designWidth) {
        const html = doc.documentElement;
        function refreshRem() {
          // 设备宽度
          const clientWidth = html.clientWidth;
          if (clientWidth >= designWidth) {
            // 如果设备宽度都大于设计稿了，那么测量出来是多少就是多少
            html.style.fontSize = '100px';
          } else {
            // 计算出比例
            // 拿 iPhone6 为例，375/750=0.5
            // 相当于每一列的宽度为 0.5px，分成了 750 列
            // 但是浏览器是不允许这么小的字体大小的，因此乘上一个 100
            // 变成每一列的宽度为 50px
            // 之后在将设计稿尺寸转换为列数时，也不需要繁杂的计算
            // 假设设计稿量出来为 375px => 187.5(CSS像素) => 187.5/50(每一列宽度) = 3.75(所占列数)
            html.style.fontSize = 100 * (clientWidth / designWidth) + 'px';
          }
        }
        doc.addEventListener('DOMContentLoaded', refreshRem);
      })(document, window, 750);
    </script>
  </head>
  <body></body>
</html>
